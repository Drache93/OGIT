@prefix dcterms:            <http://purl.org/dc/terms/> .
@prefix ogit:               <http://www.purl.org/ogit/> .
@prefix ogit._data:         <http://www.purl.org/ogit/> .
@prefix ogit._license:      <http://www.purl.org/ogit/> .
@prefix ogit._organization: <http://www.purl.org/ogit/> .
@prefix ogit.core:          <http://www.purl.org/ogit/> .
@prefix ogit.foundation:    <http://www.purl.org/ogit/> .
@prefix ogit.graphit:       <http://www.purl.org/ogit/> .
@prefix owl:                <http://www.w3.org/2002/07/owl#> .
@prefix rdfs:               <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sh:                 <http://www.w3.org/ns/shacl#> .
@prefix vann:               <http://purl.org/vocab/vann/> .

#
# Ontology
#
ogit:license
    a owl:Ontology ;
    rdfs:label "OGIT License" ;
    owl:imports
        ogit:_data,
        ogit:foundation,
        ogit:graphit,
        ogit:organization ;
    owl:versionInfo "__OGIT_VERSION__" ;
    dcterms:contributor "Fabian Meyer" ;
    dcterms:creator "arago GmbH" ;
    vann:preferredNamespacePrefix "ogit._license" ;
    vann:preferredNamespaceUri "http://www.purl.org/ogit/" .

#
# Entities
#
ogit._license:License
    a ogit.core:Entity ;
    rdfs:label "License" ;
    rdfs:subClassOf ogit.graphit:Node ;
    dcterms:created "2015-05-21" ;
    dcterms:creator "Peter Larem" ;
    dcterms:description "This entity type allows to store license information or actual licenses." ;
    dcterms:modified "2015-05-21" ;
    dcterms:valid "start=2015-05-21;" ;
    ogit.core:admin-contact "arago GmbH" ;
    ogit.core:scope "SGO" ;
    ogit.core:tech-contact "arago GmbH" ;
    ogit.core:history
        [
            dcterms:identifier "1" ;
            dcterms:date "2015-05-21" ;
            dcterms:creator "Peter Larem" ;
            dcterms:description "initial"
        ],
        [
            dcterms:identifier "2" ;
            dcterms:date "2016-11-29" ;
            dcterms:creator "stravlos@arago.co" ;
            dcterms:description "add attribute validTo"
        ],
        [
            dcterms:identifier "3" ;
            dcterms:date "2016-12-19" ;
            dcterms:creator "stravlos@arago.co" ;
            dcterms:description "add attribute deadlie"
        ] ;
    sh:property
        [
            sh:path ogit._license:licenseKey ;
            sh:maxCount 1
        ],
        [
            sh:path ogit._license:licenseType ;
            sh:maxCount 1
        ],
        [
            sh:path ogit.foundation:belongs ;
            sh:class ogit._license:LicenseRequest
        ],
        [
            sh:path ogit.foundation:createdAt ;
            sh:maxCount 1
        ],
        [
            sh:path ogit.foundation:creator ;
            sh:maxCount 1
        ],
        [
            sh:path ogit.foundation:deadline ;
            sh:maxCount 1
        ],
        [
            sh:path ogit.foundation:expirationDate ;
            sh:maxCount 1
        ],
        [
            sh:path ogit.foundation:generates ;
            sh:class ogit._data:Timeseries
        ],
        [
            sh:path ogit.foundation:id ;
            sh:maxCount 1
        ],
        [
            sh:path ogit.foundation:precedes ;
            sh:class ogit._license:License
        ],
        [
            sh:path ogit.foundation:subject ;
            sh:maxCount 1
        ],
        [
            sh:path ogit.foundation:validFrom ;
            sh:maxCount 1
        ],
        [
            sh:path ogit.foundation:validTo ;
            sh:maxCount 1
        ] .

ogit._license:LicenseRequest
    a ogit.core:Entity ;
    rdfs:label "LicenseRequest" ;
    rdfs:subClassOf ogit.graphit:Node ;
    dcterms:created "2015-05-21" ;
    dcterms:creator "Peter Larem" ;
    dcterms:description """This allows clients to place a request for a license.
Usually some license admin personnel will use the information from such a request to create the actual license.
A request might contain a valid LicenseToken to indicate that this request is pre-approved.""" ;
    dcterms:modified "2015-05-21" ;
    dcterms:valid "start=2015-05-21;" ;
    ogit.core:admin-contact "arago GmbH" ;
    ogit.core:scope "SGO" ;
    ogit.core:tech-contact "arago GmbH" ;
    ogit.core:history
        [
            dcterms:identifier "1" ;
            dcterms:date "2015-05-21" ;
            dcterms:creator "Peter Larem" ;
            dcterms:description "initial"
        ],
        [
            dcterms:identifier "2" ;
            dcterms:date "2017-08-14" ;
            dcterms:creator "Miroslaw Glusiuk" ;
            dcterms:description "added ogit/subject"
        ],
        [
            dcterms:identifier "3" ;
            dcterms:date "2017-09-06" ;
            dcterms:creator "Oday Jubran" ;
            dcterms:description "added optional attribute ogit/licenseId"
        ] ;
    sh:property
        [
            sh:path ogit._license:licenseId ;
            sh:maxCount 1
        ],
        [
            sh:path ogit._license:licenseRequestStatus ;
            sh:maxCount 1
        ],
        [
            sh:path ogit.foundation:belongs ;
            sh:class ogit._organization:Organization
        ],
        [
            sh:path ogit.foundation:description ;
            sh:maxCount 1
        ],
        [
            sh:path ogit.foundation:id ;
            sh:minCount 1 ;
            sh:maxCount 1
        ],
        [
            sh:path ogit.foundation:subject ;
            sh:maxCount 1
        ],
        [
            sh:path ogit.foundation:token ;
            sh:maxCount 1
        ] .

ogit._license:LicenseToken
    a ogit.core:Entity ;
    rdfs:label "LicenseToken" ;
    rdfs:subClassOf ogit.graphit:Node ;
    dcterms:created "2015-05-21" ;
    dcterms:creator "Peter Larem" ;
    dcterms:description """This serves as a placeholder for pre-approved license request it will be subsituted by a real license throughout the licence request process.
This will created by a license admin and communicated to potential licence requesters.""" ;
    dcterms:modified "2015-05-21" ;
    dcterms:valid "start=2015-05-21;" ;
    ogit.core:admin-contact "arago GmbH" ;
    ogit.core:scope "SGO" ;
    ogit.core:tech-contact "arago GmbH" ;
    ogit.core:history [
            dcterms:identifier "1" ;
            dcterms:date "2015-05-21" ;
            dcterms:creator "Peter Larem" ;
            dcterms:description "initial"
        ] ;
    sh:property
        [
            sh:path ogit._license:licenseType ;
            sh:maxCount 1
        ],
        [
            sh:path ogit.foundation:belongs ;
            sh:class ogit._organization:Organization
        ],
        [
            sh:path ogit.foundation:description ;
            sh:maxCount 1
        ],
        [
            sh:path ogit.foundation:expirationDate ;
            sh:maxCount 1
        ],
        [
            sh:path ogit.foundation:id ;
            sh:minCount 1 ;
            sh:maxCount 1
        ],
        [
            sh:path ogit.foundation:token ;
            sh:maxCount 1
        ],
        [
            sh:path ogit.foundation:validFrom ;
            sh:maxCount 1
        ] .

#
# Attributes
#
ogit._license:licenseId
    a ogit.core:Attribute ;
    rdfs:label "licenseId" ;
    dcterms:created "2017-09-06" ;
    dcterms:creator "Oday Jubran" ;
    dcterms:description "The id of the license to be used to fetch licenses." ;
    dcterms:modified "2017-09-06" ;
    dcterms:valid "start=2017-09-06;" ;
    ogit.core:admin-contact "arago GmbH" ;
    ogit.core:tech-contact "arago GmbH" ;
    ogit.core:history [
            dcterms:identifier "1" ;
            dcterms:date "2017-09-06" ;
            dcterms:creator "Oday Jubran" ;
            dcterms:description "initial"
        ] .

ogit._license:licenseKey
    a ogit.core:Attribute ;
    rdfs:label "licenseKey" ;
    dcterms:created "2015-05-21" ;
    dcterms:creator "Peter Larem" ;
    dcterms:description "A string containing a license key." ;
    dcterms:modified "2015-05-21" ;
    dcterms:valid "start=2015-05-21;" ;
    ogit.core:admin-contact "arago GmbH" ;
    ogit.core:tech-contact "arago GmbH" ;
    ogit.core:history [
            dcterms:identifier "1" ;
            dcterms:date "2015-05-21" ;
            dcterms:creator "Peter Larem" ;
            dcterms:description "initial"
        ] .

ogit._license:licenseRequestStatus
    a ogit.core:Attribute ;
    rdfs:label "licenseRequestStatus" ;
    dcterms:created "2015-05-21" ;
    dcterms:creator "Peter Larem" ;
    dcterms:description "The list of valid status values a license request can have." ;
    dcterms:modified "2015-05-21" ;
    dcterms:valid "start=2015-05-21;" ;
    ogit.core:admin-contact "arago GmbH" ;
    ogit.core:tech-contact "arago GmbH" ;
    ogit.core:validation-parameter "^(pending|send|error|approved|rejected|failed|received|cancelled|closed)$" ;
    ogit.core:validation-type "regex" ;
    ogit.core:history
        [
            dcterms:identifier "1" ;
            dcterms:date "2015-05-21" ;
            dcterms:creator "Peter Larem" ;
            dcterms:description "initial"
        ],
        [
            dcterms:identifier "2" ;
            dcterms:date "2017-08-10" ;
            dcterms:creator "Miroslaw Glusiuk" ;
            dcterms:description "add more states"
        ],
        [
            dcterms:identifier "3" ;
            dcterms:date "2017-08-24" ;
            dcterms:creator "Miroslaw Glusiuk" ;
            dcterms:description "add missing closed state"
        ],
        [
            dcterms:identifier "4" ;
            dcterms:date "2017-09-06" ;
            dcterms:creator "Oday Jubran" ;
            dcterms:description "add error state"
        ] .

ogit._license:licenseType
    a ogit.core:Attribute ;
    rdfs:label "licenseType" ;
    dcterms:created "2015-05-21" ;
    dcterms:creator "Peter Larem" ;
    dcterms:description "Type of the License e.g. community/enterprise." ;
    dcterms:modified "2015-05-21" ;
    dcterms:valid "start=2015-05-21;" ;
    ogit.core:admin-contact "arago GmbH" ;
    ogit.core:tech-contact "arago GmbH" ;
    ogit.core:history [
            dcterms:identifier "1" ;
            dcterms:date "2015-05-21" ;
            dcterms:creator "Peter Larem" ;
            dcterms:description "initial"
        ] .
